# Description 
This project includes a web server and a web client written in Rust. It created with work, time, and a little bit of rocket, diesel, yew frameworks. As a database for this used a PostgreSQL.

It has the following features:
* creating an account
* signing in account
* creating posts
* deleting them
* bookmarking them [to see them first]
* seeing own posts.

---

# How to Use

### Pre-requirements
* Rust + Cargo
* Postgres Server
* trunk (it's needed to build a Rust WASM application)
* Diesel CLI

0. Do you have installed PostgreSQL? If not, follow this instructions https://www.postgresql.org/download/
4. Do you have installed rust, cargo? If not, follow this instructions https://www.rust-lang.org/tools/install
5. Do you have installed diesel? If not, execute command ``cargo install diesel_cli --no-default-features --features postgres`` 
6. Also follow to this install instruction to install `trunk`: https://trunkrs.dev/#install


### After all
0. ``$ git clone https://github.com/DKotov29/nice-web.git``
1. ``$ cd nice-web/nice-web-backend``
2. Rename ``.env.template`` file to ``.env``. In ``.env`` file change username, password to yours, and ```$ diesel_demo``` to yours database name
3. ``$ diesel migration run``
4. ``$ cd ..``
5. ``$ cd web-client``
6. ``$ trunk build``
7. ``$ cd ..``
8. ``$ cargo run``
9. profit


---


# How it works 

Rocket was used as a framework for handling http requests from users and yew as a frontend library. Yew creates a client that works in user's browser. It will show all pages and will communicate with server api made by rocket.
Then server will handle client's requests from client and contact to database through diesel library.

``Project backend `` structure includes a "migrations" directory, which houses SQL files responsible for setting up the necessary tables.

In the "src" directory, you'll find the main file, which establishes a connection pool to the database and initiates request handling on mounted paths.

Additionally, there is a "schema" file generated by Diesel, which serves for compile-time correctness checking.

The "controller" directory contains all the files where the server handles incoming requests.

Lastly, the "model" directory is the sole place where the server interacts directly with the database, including session management.

``Project client`` have such structure:
The project is built using the Yew framework, which plays a central role in its structure.

The client communicates with the server through a RESTful API. The API module is responsible for handling all interactions with the API. This design choice simplifies the organization of related logic.

Within the project, you'll find a "components" folder housing everything related to the interaction between the user and the business logic.

Additionally, the client stores the session token received from the server in session storage for authentication and security purposes.
